
# Zynq Bootgen –∏ Flash Tool

## üìÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bin/                 # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
data/                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
Examples_Files/      # –ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è flash
lib/                 # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ dll
Manual_Prog_Zynq/    # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é Zynq —á–µ—Ä–µ–∑ cmd
Modules/             # –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ (python —Å–∫—Ä–∏–ø—Ç—ã)
bootgen_gui.exe      # –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (BOOT.bin / .mcs)
flash_gui.exe        # –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ Zynq
README.md            # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

## üí† –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–æ—à–∏–≤–∫–∏ –º–∏–∫—Ä–æ—Å—Ö–µ–º —Å–µ–º–µ–π—Å—Ç–≤–∞ **Zynq** —Å qspi-flash.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- **bootgen_gui.exe**:
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è Zynq.
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: **BIN** –∏ **MCS**.
  - –¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:
    - **FSBL (First Stage Bootloader)** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
    - **Bitstream (.bit)** ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.
    - **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (.elf)** ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.
  - –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (**BIN** –∏–ª–∏ **MCS**).

- **flash_gui.exe**:
  - –ü—Ä–æ—à–∏–≤–∫–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º—ã Zynq.
  - –¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:
    - –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ñ–∞–π–ª (**.bin** –∏–ª–∏ **.mcs**).
    - **FSBL** –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ—à–∏–≤–∫–æ–π.

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ –ø—Ä–æ—à–∏–≤–∫–µ zynq flash
| –ü–∞—Ä–∞–º–µ—Ç—Ä                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                              |
| ---------------------------- | --------------------------------------------------------------------- |
|                              |
| `-offset 0`                  | –°–º–µ—â–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ø–∞–º—è—Ç–∏ (–æ–±—ã—á–Ω–æ `0` –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–∞–º—è—Ç–∏)               |
| `-flash_type qspi-x4-single` | –¢–∏–ø —Ñ–ª–µ—à-–ø–∞–º—è—Ç–∏ (QSPI –≤ —Ä–µ–∂–∏–º–µ x4)                                   
| `-url tcp:localhost:3121`    | –ê–¥—Ä–µ—Å JTAG-—Å–µ—Ä–≤–µ—Ä–∞ hw\_server, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è program\_flash |

## ‚ñ∂Ô∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `bootgen_gui.exe`.
2. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫:
   - **FSBL** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª).
   - **Bitstream (.bit)** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—à–∏—Ç—å PL).
   - **Application (.elf)** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ).
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
   - **BIN** –∏–ª–∏ **MCS**.
4. –ù–∞–∂–º–∏—Ç–µ "–°–≥–Ω–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å BOOT" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ mcs/bin –∏ .bif.

### –ü—Ä–æ—à–∏–≤–∫–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º—ã

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `flash_gui.exe`.
2. –í—ã–±–µ—Ä–∏—Ç–µ:
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **.bin** –∏–ª–∏ **.mcs** —Ñ–∞–π–ª.
   - **FSBL**.
3. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—à–∏—Ç—å Zynq" –¥–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å–∏ –≤–æ —Ñ–ª–µ—à-–ø–∞–º—è—Ç—å.

## üí° –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Windows 10.
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: JTAG –∏–ª–∏ USB –∫ —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç–µ Zynq.
- **–§–∞–π–ª—ã**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π FSBL –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π **FSBL** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–µ–π –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **Bitstream (.bit)** —É–±–µ–¥–∏—Ç–µ—Å—å –≤ –µ–≥–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å PL-—á–∞—Å—Ç—å—é.
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–æ—Ä–º–∞—Ç–∞ **MCS** —Ñ–∞–π–ª –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤–æ –≤–Ω–µ—à–Ω—é—é QSPI-Flash.

## –ü—Ä–∏–º–µ—Ä—ã

–ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `Examples_Files`:

```
/boot_gen_files_examples
‚îú‚îÄ‚îÄ fsbl.elf           # First Stage Boot Loader (FSBL)
‚îú‚îÄ‚îÄ example.elf        # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (ps-—á–∞—Å—Ç—å)
‚îú‚îÄ‚îÄ BOOT.bif           # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª .bif —á–µ—Ä–µ–∑ bootgen_gui
‚îú‚îÄ‚îÄ BOOT.bin           # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª .bin —á–µ—Ä–µ–∑ bootgen_gui
‚îú‚îÄ‚îÄ BOOT.mcs           # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª .mcs —á–µ—Ä–µ–∑ bootgen_gui

/program_flash_files_examples
‚îú‚îÄ‚îÄ fsbl.elf           # First Stage Boot Loader (FSBL)
‚îú‚îÄ‚îÄ BOOT.mcs           # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª .mcs —á–µ—Ä–µ–∑ bootgen_gui
```
